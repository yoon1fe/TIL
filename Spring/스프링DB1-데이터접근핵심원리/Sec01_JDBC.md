## H2 데이터베이스

**H2 데이터베이스**

- 개발이나 테스트 용도로 사용하기 좋은 가볍고 편리한 DB!! 그리고 SQL 실행할 수 있는 웹 화면 제공한다.

- JDBC URL: jdbc:h2:~/test
- 사용자명: sa
- `~/test.mv.db` 파일 생성된다.



## JDBC 이해

JDBC 등장 이유? 

애플리케이션을 개발할 때 중요한 데이터는 대부분 DB에 보관한다.

클라이언트가 애플리케이션 서버를 통해 데이터를 저장/조회하면, 애플리케이션 서버는 다음 과정을 통해 DB를 사용한다.

1. 커넥션 연결: 주로 TCP/IP를 사용해서 커넥션 연결
2. SQL 전달: 애플리케이션서버는 DB가 이해할 수 있는 SQL을 연결된 커넥션을 통해 DB에 전달
3. 결과 응답: DB는 전달된 SQL을 수행하고 그 결과를 응답. 애플리케이션은 응답 결과 활용



문제: DB마다 각각 커넥션 연결하는 방법, SQL 전달하는 방법, 결과를 응답하는 방법이 모두 다르다.

1. DB를 변경하면 애플리케이션 서버에 개발된 DB 사용 코드도 함께 변경해야 함
2. 개발자가 각각의 DB에 대한 방법을 새로 공부해야 됨



이런 문제를 해결하기 위해 **JDBC**라는 자바 표준이 등장!!



**JDBC(Java DataBase Connectivity) 표준 인터페이스**

> 자바에서 DB에 접속할 수 있도록 하는 자바 API. DB에서 자료를 쿼리하거나 업데이트하는 방법을 제공한다.



JDBC는 대표적으로 다음 세 가지 기능을 표준 인터페이스로 정의해서 제공한다.

- `java.sql.Connection`: 연결
- `java.sql.Statement`: SQL 을 담은 내용
- `java.sql.ResultSet`: SQL 요청 응답



개발자는 이제 얘네만 사용해서 개발하면 된다~~.

위의 애들을 각각의 DB 벤더사에서 자신의 DB에 맞게 구현해서 라이브러리로 제공하는 것을 JDBC 드라이버라고 부른다.



## JDBC와 최신 데이터 접근 기술

JDBC를 직접 사용하는건 번거롭고 복잡하다. 그래서 최근에는 SQL Mapper나 ORM 기술들이 존재하고 활용된다.



**SQL Mapper**

-  `애플리케이션 로직 -(SQL 전달)-> SQL Mapper -(SQL 전달)-> JDBC`
- 장점
  - JDBC를 편리하게 사용하도록 도와줌
  - SQL 응답 결과를 객체로 편리하게 변환
  - JDBC 반복 코드 제거
- 단점
  - 개발자가 SQL 직접 작성해야 함
- 대표 기술: 스프링 JdbcTemplate, MyBatis



**ORM**

- `애플리케이션 로직 -(객체 전달)-> JPA <-JPA 구현체(Hibernate 등) -(SQL 전달)-> JDBC`
- 객체를 관계형 데이터베이스 테이블과 매핑해주는 기술. ORM 기술이 개발자 대신 SQL을 동적으로 만들어서 실행해준다.
- 대표 기술: JPA, Hibernate, 이클립스 링크
- JPA는 자바 진영의 ORM 표준 인터페이스이고, 이것을 구현한 것이 Hibernate와 이클립스 링크



## DB 연결





## JDBC 개발



### 등록





### 조회





### 수정/삭제

